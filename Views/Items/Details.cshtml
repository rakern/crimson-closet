@model Item

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_LayoutTheme.cshtml";
}

@using System;
@using System.ComponentModel.DataAnnotations;
@using System.Linq;
@using System.Reflection;

<h2>Details</h2>

<div>
    <h4>Item</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Code
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ItemCode)
        </dd>
        <dt>
            Status
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ItemStatus)
        </dd>
        <dt>
            Brand
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ItemBrand)
        </dd>
        <dt>
            Size
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ItemSize)
        </dd>
        <dt>
            Color
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ItemColor)
        </dd>
        <dt>
            Photo
        </dt>
        <dd>
            @if (Model.ItemPhoto != null)
            {
                var base64 = Convert.ToBase64String(Model.ItemPhoto);
                var imgSrc = string.Format("data:image/jpg;base64,{0}", base64);
                <img src="@imgSrc" height="100" width="100" />

            }
        </dd>
        <dt>
            Type
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ItemType.ItemDescription)
        </dd>
        <dd>
            @if (Model.ItemGender != null) {
                        var enumValue = Model.ItemGender;
                        var itemGenderName = enumValue.GetType().GetMember(enumValue.ToString()).First().GetCustomAttribute<DisplayAttribute>().GetName();
                        @Html.DisplayFor(modelItem => itemGenderName)
                    }
                    else {
                        @Html.DisplayFor(modelItem => Model.ItemGender)
                    }    
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.ItemId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
